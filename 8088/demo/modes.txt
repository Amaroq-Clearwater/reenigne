mode    palette  width  height  pixels  stride  colours  textChar  bpp  scanlines  iosPerByte  snow  ratio          pages     waste  notes

40x25 full-width:
001000  ..xxxx   40     200     8000     80     16       219       16    1          1.18       no    20:3  =  0.15    1       75%    row counter is only 7 bits - need a restart
001000  ..xxxx   40     100     4000     80     16       219       16    2          2.35       no    10:3  =  0.3     2       75%
001000  ..xxxx   40      66     2640     80     16       219       16    3          3.56       no    20:9  =  0.45    3       75%
001000  ..xxxx   40      50     2000     80     16       219       16    4          4.70       no     5:3  =  0.6     4       75%
001000  ..xxxx   40      33     1320     80     16       219       16    6          7.12       no    10:9  =  0.9     6       75%
001000  ..xxxx   40      28     1120     80     16       219       16    7          8.40       no    20:21 =  1.05    7       75%
001000  ..xxxx   40      25     1000     80     16       219       16    8          9.40       no     5:6  =  1.2     8       75%    standard
001000  ..xxxx   40      12      480     80     16       219       16   16         19.59       no     5:12 =  2.4    17       75%    refresh problems?
001000  ..xxxx   40       6      240     80     16       219       16   32         39.18       no     5:24 =  4.8    34       75%    refresh problems?

40x25 half-width:
001000  ..xxxx   80     200    16000     80     16       221        8    1          1.18       no    10:3  =  0.3     1       50%    row counter is only 7 bits - need a restart
001000  ..xxxx   80     100     8000     80     16       221        8    2          2.35       no     5:3  =  0.6     2       50%
001000  ..xxxx   80      66     5280     80     16       221        8    3          3.56       no    10:9  =  0.9     3       50%
001000  ..xxxx   80      50     4000     80     16       221        8    4          4.70       no     5:6  =  1.2     4       50%
001000  ..xxxx   80      33     2640     80     16       221        8    6          7.12       no     5:9  =  1.8     6       50%
001000  ..xxxx   80      28     2240     80     16       221        8    7          8.40       no    10:21 =  2.1     7       50%
001000  ..xxxx   80      25     2000     80     16       221        8    8          9.40       no     5:12 =  2.4     8       50%    standard
001000  ..xxxx   80      12      960     80     16       221        8   16         19.59       no     5:24 =  4.8    17       50%    refresh problems?
001000  ..xxxx   80       6      480     80     16       221        8   32         39.18       no     5:48 =  9.6    34       50%    refresh problems?

80x25 full-width:
001001  ..xxxx   80     200    16000    160     16       219       16    1          0.59       yes   10:3  =  0.3     0.5     75%    row counter is only 7 bits - need a restart - can't use full frame
001001  ..xxxx   80     100     8000    160     16       219       16    2          1.18       yes    5:3  =  0.6     1       75%
001001  ..xxxx   80      66     5280    160     16       219       16    3          1.78       yes   10:9  =  0.9     1       75%
001001  ..xxxx   80      50     4000    160     16       219       16    4          2.35       yes    5:6  =  1.2     2       75%
001001  ..xxxx   80      33     2640    160     16       219       16    6          3.56       yes    5:9  =  1.8     3       75%
001001  ..xxxx   80      28     2240    160     16       219       16    7          4.20       yes   10:21 =  2.1     3       75%
001001  ..xxxx   80      25     2000    160     16       219       16    8          4.70       yes    5:12 =  2.4     4       75%    standard
001001  ..xxxx   80      12      960    160     16       219       16   16          9.79       yes    5:24 =  4.8     8       75%
001001  ..xxxx   80       6      480    160     16       219       16   32         19.59       yes    5:48 =  9.6    17       75%    refresh problems?

80x25 half-width:
001001  ..xxxx  160     200    32000    160     16       221        8    1          0.59       yes    5:3  =  0.6     0.5     50%    row counter is only 7 bits - need a restart - can't use full frame
001001  ..xxxx  160     100    16000    160     16       221        8    2          1.18       yes    5:6  =  1.2     1       50%    semi-standard
001001  ..xxxx  160      66    10560    160     16       221        8    3          1.78       yes    5:9  =  1.8     1       50%
001001  ..xxxx  160      50     8000    160     16       221        8    4          2.35       yes    5:12 =  2.4     2       50%
001001  ..xxxx  160      33     5280    160     16       221        8    6          3.56       yes    5:18 =  3.6     3       50%
001001  ..xxxx  160      28     4480    160     16       221        8    7          4.20       yes    5:21 =  4.2     3       50%
001001  ..xxxx  160      25     4000    160     16       221        8    8          4.70       yes    5:24 =  4.8     4       50%    standard
001001  ..xxxx  160      12     1920    160     16       221        8   16          9.79       yes    5:48 =  9.6     8       50%
001001  ..xxxx  160       6      960    160     16       221        8   32         19.59       yes    5:96 = 19.2    17       50%    refresh problems?

320x200:
001x10  xxxxxx  320     200    64000     80      4                  2    1          1.18       no     5:6  =  1.2     0.5      0%    row counter is only 7 bits - need a restart - can't use full frame
001x10  xxxxxx  320     200    64000     80      4                  2    2          1.18       no     5:6  =  1.2     1        0%    standard interlaced
001x10  xxxxxx  320     100    32000     80      4                  2    4          2.35       no     5:12 =  2.4     2        0%    interlaced ABAB
001x10  xxxxxx  320      33    21120     80      4                  2    6          3.56       no     5:18 =  3.6     3        0%    interlaced ABABAB
001x10  xxxxxx  320      50    16000     80      4                  2    8          4.70       no     5:24 =  4.8     4        0%    interlaced ABABABAB
001x10  xxxxxx  320      25     8000     80      4                  2   16          9.79       no     5:48 =  9.6     8        0%    interlaced ABABABABABABABAB                  - refresh problems?
001x10  xxxxxx  320      12     3840     80      4                  2   32         19.59       no     5:96 = 19.2    17        0%    interlaced ABABABABABABABABABABABABABABABAB  - refresh problems?

640x200:
011x10  ..xxxx  640     200   128000     80      4                  1    1          1.18       no     5:12 =  2.4     0.5      0%    row counter is only 7 bits - need a restart - can't use full frame
011x10  ..xxxx  640     200   128000     80      4                  1    2          1.18       no     5:12 =  2.4     1        0%    standard interlaced
011x10  ..xxxx  640     100    64000     80      4                  1    4          2.35       no     5:24 =  4.8     2        0%    interlaced ABAB
011x10  ..xxxx  640      33    42240     80      4                  1    6          3.56       no     5:36 =  7.2     3        0%    interlaced ABABAB
011x10  ..xxxx  640      50    32000     80      4                  1    8          4.70       no     5:48 =  9.6     4        0%    interlaced ABABABAB
011x10  ..xxxx  640      25    16000     80      4                  1   16          9.79       no     5:96 = 19.2     8        0%    interlaced ABABABABABABABAB                  - refresh problems?
011x10  ..xxxx  640      12     7680     80      4                  1   32         19.59       no     5:192= 38.4    17        0%    interlaced ABABABABABABABABABABABABABABABAB  - refresh problems?

Modifiers:
  * Other character heights
    * When using odd heights with +GRPH, even lines are repeated more than odd ones.
  * Non-full-frame. Interesting screen sizes:
    80*100  8Kb     8:3   half-size, full-width
    40*200  8Kb     2:3   half-size, full-height
    64*200 12.5Kb  16:15  power-of-two width
    60*200 11.7Kb   1:1   square screen
    56*140  7.7Kb   4:3   half-size, same aspect ratio
    57*143  8.0Kb 190:143 half-size, same aspect ratio (inexact)
    80*150 11.7Kb  16:9   widescreen
    40*100  4Kb     4:3   quarter-size
    20*50   1Kb     4:3   1/16 size
    10*25  250b     4:3   1/64 size
  * Changing CRTC parameters partway through frame
    * Repeated scanlines
      * Data active during sync and burst - may cause problems
    * New start address on each line (restart required)
      * Careful of DRAM refresh
    * More than 128 rows - required for character height 1 modes
    * Changing horizontal position per-scanline
    * PLL wobble effect - sub-pixel changes
  * Changing palette registers partway through frame
    * California-games style effects
  * Changing mode registers partway through frame
    * Split-screen
  * Changing horizontal and vertical position of entire visible area
  * Composite output
    * Colour affected by 3.57MHz signal
    * +B/W bit
    * Need coloured overscan with +HRES for burst
  * PLL mode - skips sync pulses so only alternate lines are plotted
    * Can we skip more than 1?


With -HRES:
  IOsPerByte     linesPerFrame    framesPerSecond                                                 KB/s
      1               235.1             70.43         REP STOS                                    1100
      1.5             156.7             46.95         STOSW                                        734
      2               117.5             35.22         REP MOVS                                     550
      2.5              94.0             28.17         LODSB/STOSW or MOV AX,BX/STOSW               440
      3                78.4             23.48         LODSW/STOSW                                  367
      3.5              67.2             20.12         LODSW/INCDEC SI/STOSW                        314
      4                58.8             17.61         Texture word                                 275
      4.5              52.2             15.65                                                      245
      5                47.0             14.09         Moire 2bpp                                   220
      6                39.2             11.74         Texture byte                                 183
      7                33.6             10.06         Texture attribute       REP MOVSW measured   157
      8                29.4              8.80         Moire half-width                             138
     12                19.6              5.87         Rotozoomer                                    92



lodsw    1 2
stosw    1 2

mov ax,[si]    2 2
inc si         1 0
stosw          1 2

Five cycle A:
  mov ax,bx      2 0
  stosw          1 2

Five cycle B:            Colour-cycled Mandelbrot effect? 30Hz, nearly full screen -HRES. Don't need to update all locations. ~39Kb per picture. Slideshow with transitions
  mov [bx+12],ax 3 2
  mov [bx+14],cx
  mov [bx+16],dx


Interesting top rows:
11111111 0x00
00001111 0xdd
11011101 0xb0
10101010 0xb1
00100100 0xb2
11100111 0xb3
11001001 0xba
10011001 0x13
00110011 0x55
11111100 0x54
11001111 0x41
11000011 0x43
11000000 0x0d
11110011 0x6a
10000001 0x01
11111001 0xed
10011111 0xf2
11101111 0x04
01111111 0x10
11111101 0x11
00000001 0x46

         00 ******** 08

      *  11
   *     04
*        10  ******* 0e
*******  45

     **  2f
    **   6a
   **    0f
  **     21
 **      27
**       5c   ****** 0d
******   35
 ******  01
  *   *  b0
** ** ** b2

    ***  9f
   ***   34
  ***    05
 ***     6c
***      62
  *****  15
 *****   30
*****    44
 *** **  7e
***  **  4b

    **** 0b ****     4c
   ****  4a
  ****   0c **    ** 99
 ****    32
  ** **  b6
 * * * * b1
 **  **  13
 ** **   03
**   **  4d
**  **   48


         00
    **   6a
  **     21
**       5c
******   35
    **** 0b
  ****   0c
**  **   48



00000000 11111111 ' '
00000011 11111100  T
00001100 11110011  j
00001111 11110000 0xdd
00110000 11001111  A
00110011 11001100  U
00111100 11000011  C
00111111 11000000 0x0d

01111110 10000001 0x01
10011111 01100000 0xf2
11100111 00011000 0xb3
11111001 00000110 0xed

11011000 00100111
11011011 00100100
11000110 00111001






5:6





16 hdots = 1 lchar
12 hdots = 1 IO
 3 hdots = 1 cycle

0-1 lchar (round down) assumption:

Cycles:  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .
IOs:     +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +
lchars:  *               *               *               *               *               *               *               *               *               *               *               *               *               *               *               *

1 IO:    +           :---*-+           :-*+           :--*                                                                                                                                                                                                   4     3/4
2 IOs:   +           +           :-------*+           +           :------*-+           +           :-----*                                                                                                                                                   8     3/4
3 IOs:   +           +           +           :-----------*                                                                                                                                                                                                  12     3/4
4 IOs:   +           +           +           +           *                                                                                                                                                                                                   0     1
5 IOs:   +           +           +           +           +           :---*-+           +           +           +           +           :-*+           +           +           +           +           :--*                                                   4    15/16
6 IOs:   +           +           +           +           +           +           :-------*+           +           +           +           +           +           :------*-+           +           +           +           +           +           :-----*   8     9/10
7 IOs:   +           +           +           +           +           +           +           :-----------*                                                                                                                                                  12     7/8
8 IOs:   +           +           +           +           +           +           +           +           *                                                                                                                                                   0     1
9 IOs:                                                                                                                                                                                                                                                       4

average wait cycles:

Cycles:  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .
IOs:     +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +
lchars:  *               *               *               *               *               *               *               *               *               *               *               *               *               *               *               *
 0       +                                                   0
 1          +------------*-+                                15
 2             +---------*-+                                12
 3                +------*-+                                 9
 4                   +---*-+                                 6
 5                      +*-+                                 3
 6                         +-------------*+                 15
 7                            +----------*+                 12
 8                               +-------*+                  9
 9                                  +----*+                  6
10                                     +-*+                  3
11                                        +--------------*  15
12                                           +-----------*  12
13                                              +--------*   9
14                                                 +-----*   6
15                                                    +--*   3     Average wait = 8.4375 (135/16) hdots = 2.8125 (45/16) cycles = 0.52734375 (135/256) lchars

0-1 lchar (round up) assumption:

average wait cycles:

Cycles:  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .
IOs:     +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +
lchars:  *               *               *               *               *               *               *               *               *               *               *               *               *               *               *               *
 0       +---------------*-+                                18
 1          +------------*-+                                15
 2             +---------*-+                                12
 3                +------*-+                                 9
 4                   +---*-+                                 6
 5                      +*-+                                 3
 6                         +-------------*+                 15
 7                            +----------*+                 12
 8                               +-------*+                  9
 9                                  +----*+                  6
10                                     +-*+                  3
11                                        +--------------*  15
12                                           +-----------*  12
13                                              +--------*   9
14                                                 +-----*   6
15                                                    +--*   3     Average wait = 9.5625 (153/16) hdots = 3.1875 (51/16) cycles = 0.59675625 (153/256) lchars



0.5-1.5 lchar (round down) assumption:

average wait cycles:

Cycles:  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .
IOs:     +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +
lchars:  *       #       *       #       *       #       *       #       *       #       *       #       *       #       *       #       *       #       *       #       *       #       *       #       *       #       *       #       *       #       *       #
 0       +-------#-------*-+                                                  18
 1          +----#-------*-+                                                  15
 2             +-#-------*-+                                                  12
 3                +------*---------------*+                                   24
 4                   +---*---------------*+                                   21
 5                      +*---------------*+                                   18
 6                         +-----#-------*+                                   15
 7                            +--#-------*+                                   12
 8                               +-------*+                                    9
 9                                  +----*---------------*                    21
10                                     +-*---------------*                    18
11                                        +------#-------*                    15
12                                           +---#-------*                    12
13                                              +#-------*                     9
14                                                 +-----*---------------*-+  24
15                                                    +--*---------------*-+  21     Average wait = 16.5 (33/2) hdots = 5.5 (11/2) cycles = 1.03125 (33/32) lchars

0.5-1.5 lchar (round up) assumption:

average wait cycles:

Cycles:  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .
IOs:     +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +           +
lchars:  *       #       *       #       *       #       *       #       *       #       *       #       *       #       *       #       *       #       *       #       *       #       *       #       *       #       *       #       *       #       *       #
 0       +-------#-------*-+                                                  18
 1          +----#-------*-+                                                  15
 2             +-#-------*-+                                                  12
 3                +------*---------------*+                                   24
 4                   +---*---------------*+                                   21
 5                      +*---------------*+                                   18
 6                         +-----#-------*+                                   15
 7                            +--#-------*+                                   12
 8                               +-------*---------------*                    24
 9                                  +----*---------------*                    21
10                                     +-*---------------*                    18
11                                        +------#-------*                    15
12                                           +---#-------*                    12
13                                              +#-------*                     9
14                                                 +-----*---------------*-+  24
15                                                    +--*---------------*-+  21     Average wait = 17.4375 (279/16) hdots = 5.8125 (93/16) cycles = 1.08984375 (279/256) lchars

Can also round up when wait state ends on cycle boundary

